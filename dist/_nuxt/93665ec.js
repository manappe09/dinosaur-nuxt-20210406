(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{263:function(t,e,n){"use strict";n.r(e);var o=n(7),r=(n(28),n(33),n(43),n(53),n(52),{asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,o=t.error,e.prev=1,e.next=4,n.$get("dinosaur");case 4:return data=e.sent,e.abrupt("return",data);case 8:e.prev=8,e.t0=e.catch(1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},data:function(){return{filteringBoxState:!1,filteredContents:[],boxShowState:[],noItemMessage:"",isFiltered:!1,directories:[{name:"恐竜一覧",path:"/dinosaur"}]}},head:function(){return{title:"恐竜をさがす"}},mounted:function(){this.filteredContents=this.contents,this.showAllBoxes()},methods:{toggleFilteringBox:function(){var t=this.$store.state.filter.filteringBoxState;t=!t,this.$store.dispatch("filter/toggleFilteringBox",t)},showAllBoxes:function(){this.boxShowState=[],this.noItemMessage="",this.isFiltered=!1;for(var i=0;i<this.contents.length;i++)this.boxShowState.push(!0)},filterContents:function(){var t=this,e=this.$store.state.filter.selectedValue.categories,n=this.$store.state.filter.selectedValue.ages;this.boxShowState=[],this.noItemMessage="",this.isFiltered=!0,this.setSelectedValues(e,n),this.contents.forEach((function(content){e.length>0&&n.length>0?e.includes(content.category[0])&&n.includes(content.age[0])?t.boxShowState.push(!0):t.boxShowState.push(!1):(e.length>0||n.length>0)&&(e.includes(content.category[0])||n.includes(content.age[0])?t.boxShowState.push(!0):t.boxShowState.push(!1))})),this.boxShowState.includes(!0)||(this.noItemMessage="当てはまる恐竜はいませんでした。条件を変えて検索してください。")},setSelectedValues:function(t,e){var n=this,ul=document.createElement("ul"),o="",r="";t.forEach((function(t){var li=document.createElement("li");o=n.$setDinosaurCategory(t),li.textContent=o,li.classList.add("p-dinosaur__category"),li.setAttribute("data-category",t),ul.appendChild(li)})),e.forEach((function(t){var li=document.createElement("li");r=n.$setDinosaurAge(t),li.textContent=r,li.classList.add("p-dinosaur__age"),li.setAttribute("data-category",t),ul.appendChild(li)})),this.$nextTick((function(){for(var t=document.getElementById("selectedValue");t.firstElementChild;){var e=t.firstElementChild;t.removeChild(e)}t.appendChild(ul)}))}}}),l=n(2),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"l-main"},[n("Breadcrumbs",{attrs:{directories:t.directories}}),t._v(" "),n("h2",{staticClass:"c-title c-title--accent u-align-c"},[t._v("恐竜のなかまたち")]),t._v(" "),n("div",{staticClass:"c-filter"},[n("button",{staticClass:"c-filter__button js-filter__button",on:{click:t.toggleFilteringBox}},[n("fa",{staticClass:"fas c-filter__icon",attrs:{icon:"search"}}),t._v("絞り込み検索\n    ")],1),t._v(" "),n("FilteringBox",{on:{filtered:function(e){return t.filterContents()}}}),t._v(" "),t._m(0),t._v(" "),t.isFiltered?n("div",{staticClass:"c-filter__selected u-mgb-80"},[n("span",{staticClass:"u-text-s"},[t._v("選択された絞り込み")]),t._v(" "),n("div",{attrs:{id:"selectedValue"}}),t._v(" "),n("button",{staticClass:"c-button c-button--reset u-text-s",on:{click:function(e){return t.showAllBoxes()}}},[t._v("\n        全ての恐竜をならべる▶︎\n      ")])]):t._e()],1),t._v(" "),n("p",[t._v(t._s(t.noItemMessage))]),t._v(" "),n("ul",{staticClass:"p-dinosaur__list"},t._l(t.filteredContents,(function(content,e){return n("li",{key:content.id,staticClass:"p-dinosaur__item c-box c-box--column",class:{"is-show":t.boxShowState[e]}},[n("NuxtLink",{attrs:{to:"/dinosaur/"+content.id}},[n("img",{staticClass:"c-box__image c-box__image--column",attrs:{src:content.image.url,alt:"",width:"100",height:"100"}}),t._v(" "),n("div",{staticClass:"c-box__text c-box__text--column"},[n("span",{staticClass:"p-dinosaur__age",attrs:{"data-category":content.age[0]}},[t._v(t._s(t.$setDinosaurAge(content.age[0])))]),t._v(" "),n("span",{staticClass:"p-dinosaur__category",attrs:{"data-category":content.category[0]}},[t._v(t._s(t.$setDinosaurCategory(content.category[0])))]),t._v(" "),n("p",[t._v(t._s(content.name))])])])],1)})),0)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-filter__select__wrapper u-mgt-10 u-mgb-40"},[n("select",{staticClass:"c-filter__select",attrs:{disabled:""}},[n("option",{attrs:{value:"popular",selected:""}},[t._v("人気順")]),t._v(" "),n("option",{attrs:{value:"name"}},[t._v("50音順")])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Breadcrumbs:n(123).default,Button:n(51).default,FilteringBox:n(124).default})}}]);